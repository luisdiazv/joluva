<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Image Quantization # Ejercicio
A continuación se explican y se implementan algunas aplicaciones visuales de dither. Introducción # La animación dither es una técnica de efecto visual que se utiliza para crear la ilusión de un gradiente suave utilizando patrones de píxeles pequeños. Esta técnica se ha utilizado desde hace mucho tiempo en la industria del cine y la televisión para simular un rango de colores más amplio de lo que realmente es posible mostrar en una pantalla."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Image Quantization # Ejercicio
A continuación se explican y se implementan algunas aplicaciones visuales de dither. Introducción # La animación dither es una técnica de efecto visual que se utiliza para crear la ilusión de un gradiente suave utilizando patrones de píxeles pequeños. Esta técnica se ha utilizado desde hace mucho tiempo en la industria del cine y la televisión para simular un rango de colores más amplio de lo que realmente es posible mostrar en una pantalla."><meta property="og:type" content="article"><meta property="og:url" content="https://joluva.github.io/showcase/docs/visual-Illusions/masking/Image-quantization/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-03-31T01:04:53-05:00"><title>Image Quantization | Showcase Template</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><a href=/showcase/docs/visual-Illusions/>Visual Illusions</a><ul><li><a href=/showcase/docs/visual-Illusions/Coloring/>Coloring</a></li><li><a href=/showcase/docs/visual-Illusions/MachBands/>Mach Bands</a></li><li><input type=checkbox id=section-b4599f2a787d4958fae4ebc1b74f5587 class=toggle checked>
<label for=section-b4599f2a787d4958fae4ebc1b74f5587 class="flex justify-between"><a href=/showcase/docs/visual-Illusions/masking/>Masking</a></label><ul><li><a href=/showcase/docs/visual-Illusions/masking/Image-quantization/ class=active>Image Quantization</a></li><li><a href=/showcase/docs/visual-Illusions/masking/convolution/>Convolution</a></li><li><a href=/showcase/docs/visual-Illusions/masking/histogram/>Histogram</a></li><li><a href=/showcase/docs/visual-Illusions/masking/kinegram/>Kinegram</a></li><li><a href=/showcase/docs/visual-Illusions/masking/lightness/>Lightness</a></li><li><a href=/showcase/docs/visual-Illusions/masking/moire-pattern/>Moire Pattern</a></li></ul></li><li><a href=/showcase/docs/visual-Illusions/Spatial-Coherence-/>Spatial Coherence</a></li><li><a href=/showcase/docs/visual-Illusions/Temporal-Coherence/>Temporal Coherence</a></li><li><a href=/showcase/docs/visual-Illusions/Depth-perception/>Depth Perception</a></li><li><a href=/showcase/docs/visual-Illusions/VideoSustentacion/>Video Sustentacion</a></li></ul></li><li class=book-section-flat><span>Nosotros</span><ul><li><a href=/showcase/docs/nosotros/jose/>Jose</a></li><li><a href=/showcase/docs/nosotros/luis/>Luis</a></li><li><a href=/showcase/docs/nosotros/vale/>Vale</a></li></ul></li><li class=book-section-flat><a href=/showcase/docs/Shaders/>Shaders</a><ul></ul></li><li class=book-section-flat><span>Shortcodes</span><ul><li><a href=/showcase/docs/shortcodes/buttons/>Buttons</a></li><li><a href=/showcase/docs/shortcodes/columns/>Columns</a></li><li><a href=/showcase/docs/shortcodes/details/>Details</a></li><li><a href=/showcase/docs/shortcodes/hints/>Hints</a></li><li><a href=/showcase/docs/shortcodes/katex/>Katex</a></li><li><a href=/showcase/docs/shortcodes/mermaid/>Mermaid</a></li><li><input type=checkbox id=section-ec67a64aba70b9df3d2a9acd6c92e3bc class=toggle>
<label for=section-ec67a64aba70b9df3d2a9acd6c92e3bc class="flex justify-between"><a href=/showcase/docs/shortcodes/p5/>P5</a></label><ul><li><a href=/showcase/docs/shortcodes/p5/iframe/>Iframe</a></li><li><a href=/showcase/docs/shortcodes/p5/div/>Div</a></li></ul></li><li><a href=/showcase/docs/shortcodes/tabs/>Tabs</a></li></ul></li></ul><ul><li><a href=/showcase/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Image Quantization</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#image-quantization>Image Quantization</a><ul><li><a href=#introducción>Introducción</a></li><li><a href=#antecedentes-y-trabajo-previo>Antecedentes y trabajo previo</a><ul><li><a href=#solución>Solución</a></li></ul></li><li><a href=#conclusiones>Conclusiones</a></li><li><a href=#trabajo-futuro>Trabajo futuro</a></li><li><a href=#referencias>Referencias</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=image-quantization>Image Quantization
<a class=anchor href=#image-quantization>#</a></h1><blockquote class="book-hint info"><strong>Ejercicio</strong><br>A continuación se explican y se implementan algunas aplicaciones visuales de dither.</blockquote><h2 id=introducción>Introducción
<a class=anchor href=#introducci%c3%b3n>#</a></h2><p style=text-align:justify>La animación dither es una técnica de efecto visual que se utiliza para crear la ilusión de un gradiente suave utilizando patrones de píxeles pequeños. Esta técnica se ha utilizado desde hace mucho tiempo en la industria del cine y la televisión para simular un rango de colores más amplio de lo que realmente es posible mostrar en una pantalla.</p><p style=text-align:justify>El proceso de dithering implica la mezcla de diferentes patrones de píxeles para crear un efecto visual que se asemeje a un gradiente suave. Esto se logra mediante la alternancia de los patrones de píxeles de diferentes tonalidades, lo que puede dar la impresión de que hay más tonalidades de color que las que en realidad están presentes en la imagen.</p><p style=text-align:justify>En la actualidad, la técnica de animación dither se ha popularizado entre los artistas digitales y diseñadores gráficos, quienes la utilizan para crear una variedad de efectos visuales, desde fondos de pantalla hasta animaciones complejas.</p><h2 id=antecedentes-y-trabajo-previo>Antecedentes y trabajo previo
<a class=anchor href=#antecedentes-y-trabajo-previo>#</a></h2><p style=text-align:justify>Originalmente la animación dither se usaba para producir una imagen de mayor calidad en las pantallas de televisión analógicas. Con la introducción de las pantallas digitales, la técnica de animación dither se ha utilizado para mejorar la calidad de imagen en pantallas de menor resolución, especialmente en la era de las primeras consolas de videojuegos y la computación personal.</p><p style=text-align:justify>Con el tiempo, el dithering se ha vuelto más sofisticado, y la técnica se utiliza en la actualidad en una variedad de campos, como la fotografía, la animación y el diseño gráfico. La animación dither es particularmente popular en el campo de la animación, donde se utiliza para crear una amplia variedad de efectos visuales, desde gradientes de color hasta patrones de texturas complejas. [1]</p><h3 id=solución>Solución
<a class=anchor href=#soluci%c3%b3n>#</a></h3><details><summary>details</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>ditherTemplates</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>dithers</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>currentDither</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>scenes</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>currentScene</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>WHITE</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ditherTemplates</span> <span style=color:#f92672>=</span> [<span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;dithers/4x28.png&#39;</span>), 
</span></span><span style=display:flex><span>                     <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;dithers/4x36.png&#39;</span>), 
</span></span><span style=display:flex><span>                     <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;dithers/4x68.png&#39;</span>), 
</span></span><span style=display:flex><span>                     <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;dithers/6x42 LINES.png&#39;</span>), 
</span></span><span style=display:flex><span>                     <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;dithers/5x30 CIRCLES.png&#39;</span>),
</span></span><span style=display:flex><span>                     <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;dithers/5x30 CIRCUITS.png&#39;</span>),
</span></span><span style=display:flex><span>                     <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;dithers/5x45 DiagLines.png&#39;</span>)];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>500</span>, <span style=color:#ae81ff>500</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#75715e>//noLoop();
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Dither setup
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>currentDither</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>currentScene</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>scenes</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>WHITE</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color</span>(<span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dithers</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>ditherTemplates</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dithers</span>.<span style=color:#a6e22e>push</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>dither</span>(<span style=color:#a6e22e>ditherTemplates</span>[<span style=color:#a6e22e>i</span>]));
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>0</span>);  <span style=color:#75715e>//The darker color
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>255</span>);      <span style=color:#75715e>//The lighter color
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>pxSize</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>x</span><span style=color:#f92672>+=</span><span style=color:#a6e22e>pxSize</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>height</span>; <span style=color:#a6e22e>y</span><span style=color:#f92672>+=</span><span style=color:#a6e22e>pxSize</span>) {   
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>colorToSend</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>switch</span>(<span style=color:#a6e22e>currentScene</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>          <span style=color:#75715e>//NOISE ANIMATION 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#a6e22e>colorToSend</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color</span>(<span style=color:#a6e22e>noise</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>/</span><span style=color:#ae81ff>150</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>/</span><span style=color:#ae81ff>150</span>, <span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>frameCount</span><span style=color:#f92672>/</span><span style=color:#ae81ff>10</span>))<span style=color:#f92672>*</span><span style=color:#ae81ff>256</span>);
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>          <span style=color:#75715e>//GRADIENT 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#a6e22e>colorToSend</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color</span>(<span style=color:#a6e22e>y</span><span style=color:#f92672>/</span><span style=color:#a6e22e>height</span><span style=color:#f92672>*</span><span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>          <span style=color:#75715e>//FOLLOW THE MOUSE
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#a6e22e>colorToSend</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color</span>(<span style=color:#a6e22e>dist</span>(<span style=color:#a6e22e>mouseX</span>, <span style=color:#a6e22e>mouseY</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>));
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>          
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>ditherColor</span>(<span style=color:#a6e22e>colorToSend</span>, <span style=color:#a6e22e>x</span><span style=color:#f92672>/</span><span style=color:#a6e22e>pxSize</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>/</span><span style=color:#a6e22e>pxSize</span>)) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>square</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>pxSize</span>);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>mouseClicked</span>() {
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Cycles through loaded dither templates
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>currentDither</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>currentDither</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>%</span> <span style=color:#a6e22e>ditherTemplates</span>.<span style=color:#a6e22e>length</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>keyPressed</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>keyCode</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>87</span>) {  <span style=color:#75715e>//Press &#39;W&#39; for next scene
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>currentScene</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>currentScene</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>%</span> <span style=color:#a6e22e>scenes</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>keyCode</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>83</span>) {  <span style=color:#75715e>//Press &#39;S&#39; for next scene
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>currentScene</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>currentScene</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>scenes</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>%</span> <span style=color:#a6e22e>scenes</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><iframe id=pattern style=width:524px;height:524px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/pattern.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><p style=text-align:justify>En esta aplicación de efecto visual dither el programa crea una animación en la que se combinan diferentes patrones de dither con diferentes efectos visuales generados por la interacción del mouse y la animación de ruido y gradiente. Cada vez que se le da click el patrón visualizado cambia el escenario mostrando un patrón diferente.[2]</p><details><summary>details</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>horse</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>horse</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/sketches/horse.png&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>720</span>, <span style=color:#ae81ff>375</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>horse</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>makeDithered</span>(<span style=color:#a6e22e>horse</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>horse</span>, <span style=color:#ae81ff>370</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Apply gray filter to the whole canvas
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// filter(GRAY);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>imageIndex</span>(<span style=color:#a6e22e>img</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>4</span> <span style=color:#f92672>*</span> (<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getColorAtindex</span>(<span style=color:#a6e22e>img</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>idx</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>imageIndex</span>(<span style=color:#a6e22e>img</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>pix</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>red</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pix</span>[<span style=color:#a6e22e>idx</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>green</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pix</span>[<span style=color:#a6e22e>idx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>blue</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pix</span>[<span style=color:#a6e22e>idx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>alpha</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pix</span>[<span style=color:#a6e22e>idx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>color</span>(<span style=color:#a6e22e>red</span>, <span style=color:#a6e22e>green</span>, <span style=color:#a6e22e>blue</span>, <span style=color:#a6e22e>alpha</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setColorAtIndex</span>(<span style=color:#a6e22e>img</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>clr</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>idx</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>imageIndex</span>(<span style=color:#a6e22e>img</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>pix</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pix</span>[<span style=color:#a6e22e>idx</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>red</span>(<span style=color:#a6e22e>clr</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pix</span>[<span style=color:#a6e22e>idx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>green</span>(<span style=color:#a6e22e>clr</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pix</span>[<span style=color:#a6e22e>idx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>blue</span>(<span style=color:#a6e22e>clr</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pix</span>[<span style=color:#a6e22e>idx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>alpha</span>(<span style=color:#a6e22e>clr</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Finds the closest step for a given value
</span></span></span><span style=display:flex><span><span style=color:#75715e>// The step 0 is always included, so the number of steps
</span></span></span><span style=display:flex><span><span style=color:#75715e>// is actually steps + 1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>closestStep</span>(<span style=color:#a6e22e>max</span>, <span style=color:#a6e22e>steps</span>, <span style=color:#a6e22e>value</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>round</span>(<span style=color:#a6e22e>steps</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>value</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>floor</span>(<span style=color:#ae81ff>255</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>steps</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>makeDithered</span>(<span style=color:#a6e22e>img</span>, <span style=color:#a6e22e>steps</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>; <span style=color:#a6e22e>y</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>x</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>clr</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>getColorAtindex</span>(<span style=color:#a6e22e>img</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>oldR</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>red</span>(<span style=color:#a6e22e>clr</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>oldG</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>green</span>(<span style=color:#a6e22e>clr</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>oldB</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>blue</span>(<span style=color:#a6e22e>clr</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>newR</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>closestStep</span>(<span style=color:#ae81ff>255</span>, <span style=color:#a6e22e>steps</span>, <span style=color:#a6e22e>oldR</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>newG</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>closestStep</span>(<span style=color:#ae81ff>255</span>, <span style=color:#a6e22e>steps</span>, <span style=color:#a6e22e>oldG</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>newB</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>closestStep</span>(<span style=color:#ae81ff>255</span>, <span style=color:#a6e22e>steps</span>, <span style=color:#a6e22e>oldB</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>newClr</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color</span>(<span style=color:#a6e22e>newR</span>, <span style=color:#a6e22e>newG</span>, <span style=color:#a6e22e>newB</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>setColorAtIndex</span>(<span style=color:#a6e22e>img</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>newClr</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>errR</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>oldR</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>newR</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>errG</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>oldG</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>newG</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>errB</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>oldB</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>newB</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>distributeError</span>(<span style=color:#a6e22e>img</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>errR</span>, <span style=color:#a6e22e>errG</span>, <span style=color:#a6e22e>errB</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>updatePixels</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>distributeError</span>(<span style=color:#a6e22e>img</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>errR</span>, <span style=color:#a6e22e>errG</span>, <span style=color:#a6e22e>errB</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>addError</span>(<span style=color:#a6e22e>img</span>, <span style=color:#ae81ff>7</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>16.0</span>, <span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>errR</span>, <span style=color:#a6e22e>errG</span>, <span style=color:#a6e22e>errB</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>addError</span>(<span style=color:#a6e22e>img</span>, <span style=color:#ae81ff>3</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>16.0</span>, <span style=color:#a6e22e>x</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>errR</span>, <span style=color:#a6e22e>errG</span>, <span style=color:#a6e22e>errB</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>addError</span>(<span style=color:#a6e22e>img</span>, <span style=color:#ae81ff>5</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>16.0</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>errR</span>, <span style=color:#a6e22e>errG</span>, <span style=color:#a6e22e>errB</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>addError</span>(<span style=color:#a6e22e>img</span>, <span style=color:#ae81ff>1</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>16.0</span>, <span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>errR</span>, <span style=color:#a6e22e>errG</span>, <span style=color:#a6e22e>errB</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>addError</span>(<span style=color:#a6e22e>img</span>, <span style=color:#a6e22e>factor</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>errR</span>, <span style=color:#a6e22e>errG</span>, <span style=color:#a6e22e>errB</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>&gt;=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>&gt;=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>) <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>clr</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>getColorAtindex</span>(<span style=color:#a6e22e>img</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>red</span>(<span style=color:#a6e22e>clr</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>green</span>(<span style=color:#a6e22e>clr</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>blue</span>(<span style=color:#a6e22e>clr</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>clr</span>.<span style=color:#a6e22e>setRed</span>(<span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>errR</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>factor</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>clr</span>.<span style=color:#a6e22e>setGreen</span>(<span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>errG</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>factor</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>clr</span>.<span style=color:#a6e22e>setBlue</span>(<span style=color:#a6e22e>b</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>errB</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>factor</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>setColorAtIndex</span>(<span style=color:#a6e22e>img</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>clr</span>);
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><iframe id=floyd style=width:740px;height:400px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/floyd.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><p style=text-align:justify>En este ejemplo se aplica un efecto dither punteado. Al cargar la imagen del caballo la función makeDithered() en el código se encarga de aplicarle dicho efecto. Primero carga los pixeles de la imagen utilizando la función loadPixels(), luego los recorre todos y para cada píxel encuentra el color más cercano que se puede representar con un número limitado de valores de color. El error entre el color original y el color más cercano se distribuye a los píxeles adyacentes utilizando la función "distributeError()". Finalmente, se actualizan los píxeles de la imagen utilizando la función "updatePixels()". [3]</p><h2 id=conclusiones>Conclusiones
<a class=anchor href=#conclusiones>#</a></h2><p style=text-align:justify>La animación dither es una técnica de gráficos que se utiliza para producir imágenes y animaciones con una profundidad de color limitada. Esta técnica utiliza patrones de puntos pequeños de diferentes colores para simular la apariencia de más colores de los que realmente están disponibles en una imagen. Además, la animación dither utiliza la distribución de errores para crear la ilusión de más colores. El código presentado es un ejemplo de cómo se puede aplicar la técnica dither a una imagen cargada en un programa de procesamiento de imágenes</p><h2 id=trabajo-futuro>Trabajo futuro
<a class=anchor href=#trabajo-futuro>#</a></h2><p style=text-align:justify>A pesar de que la animación dither tiene una larga historia y ha sido utilizada en muchas aplicaciones, todavía hay mucho trabajo futuro que se puede hacer en esta área. Aunque es una técnica simple y efectiva para simular colores faltantes en imágenes y videos, aún hay margen para mejorar su calidad visual. Los algoritmos de dithering más avanzados podrían producir resultados aún mejores y más realistas.</p><h2 id=referencias>Referencias
<a class=anchor href=#referencias>#</a></h2><p>[1] <a href=https://blog.landr.com/es/que-es-el-dither-y-cuando-se-usa/>https://blog.landr.com/es/que-es-el-dither-y-cuando-se-usa/</a></p><p>[2] <a href=https://www.reddit.com/r/p5js/comments/ucmpki/custom_1bit_dithering/>https://www.reddit.com/r/p5js/comments/ucmpki/custom_1bit_dithering/</a></p><p>[3] <a href=https://thecodingtrain.com/challenges/90-dithering>https://thecodingtrain.com/challenges/90-dithering</a></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/38d974a7061e122f09278c70fae9aca5aa2159f1 title='Last modified by Valentina Colmenares | March 31, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>March 31, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#image-quantization>Image Quantization</a><ul><li><a href=#introducción>Introducción</a></li><li><a href=#antecedentes-y-trabajo-previo>Antecedentes y trabajo previo</a><ul><li><a href=#solución>Solución</a></li></ul></li><li><a href=#conclusiones>Conclusiones</a></li><li><a href=#trabajo-futuro>Trabajo futuro</a></li><li><a href=#referencias>Referencias</a></li></ul></li></ul></nav></div></aside></main></body></html>