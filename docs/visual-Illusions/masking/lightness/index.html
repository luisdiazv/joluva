<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Lightness variation # p5-iframe markdown {{< p5-iframe sketch=&#34;/showcase/sketches/lightness.js&#34; width=&#34;700&#34; height=&#34;900&#34; >}} Code # let img; let brightness_reduction = 0; function calculate_hue(r_prime, g_prime, b_prime) { // Geometric method let c_max = max(r_prime, g_prime, b_prime); // max of r', g', b' let c_min = min(r_prime, g_prime, b_prime); // min of r', g', b' let delta = c_max - c_min; // delta rgb let h = 0; let s = 0; if (delta == 0) { h = 0; // Can be any color } else if (c_max == r_prime) { h = 60 * (((g_prime - b_prime) / delta) % 6); } else if (c_max == g_prime) { h = 60 * ((b_prime - r_prime) / delta + 2); } else if (c_max == b_prime) { h = 60 * ((r_prime - g_prime) / delta + 4); } if (c_max) { s = delta / c_max; } return h; } function calculate_saturation(r_prime, g_prime, b_prime) { // Distance from center to max let c_max = max(r_prime, g_prime, b_prime); // max of r', g', b' let c_min = min(r_prime, g_prime, b_prime); // min of r', g', b' let delta = c_max - c_min; // delta rgb let s = 0; if (c_max) { s = 1 - c_min / c_max; } return s * 100; } function calculate_hsl_saturation(r_prime, g_prime, b_prime) { // Distance from center to max let c_max = max(r_prime, g_prime, b_prime); // max of r', g', b' let c_min = min(r_prime, g_prime, b_prime); // min of r', g', b' let delta = c_max - c_min; // delta rgb let s = 0; if (calculate_lightness(r_prime, g_prime, b_prime) !"><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Lightness variation # p5-iframe markdown {{< p5-iframe sketch=&#34;/showcase/sketches/lightness.js&#34; width=&#34;700&#34; height=&#34;900&#34; >}} Code # let img; let brightness_reduction = 0; function calculate_hue(r_prime, g_prime, b_prime) { // Geometric method let c_max = max(r_prime, g_prime, b_prime); // max of r', g', b' let c_min = min(r_prime, g_prime, b_prime); // min of r', g', b' let delta = c_max - c_min; // delta rgb let h = 0; let s = 0; if (delta == 0) { h = 0; // Can be any color } else if (c_max == r_prime) { h = 60 * (((g_prime - b_prime) / delta) % 6); } else if (c_max == g_prime) { h = 60 * ((b_prime - r_prime) / delta + 2); } else if (c_max == b_prime) { h = 60 * ((r_prime - g_prime) / delta + 4); } if (c_max) { s = delta / c_max; } return h; } function calculate_saturation(r_prime, g_prime, b_prime) { // Distance from center to max let c_max = max(r_prime, g_prime, b_prime); // max of r', g', b' let c_min = min(r_prime, g_prime, b_prime); // min of r', g', b' let delta = c_max - c_min; // delta rgb let s = 0; if (c_max) { s = 1 - c_min / c_max; } return s * 100; } function calculate_hsl_saturation(r_prime, g_prime, b_prime) { // Distance from center to max let c_max = max(r_prime, g_prime, b_prime); // max of r', g', b' let c_min = min(r_prime, g_prime, b_prime); // min of r', g', b' let delta = c_max - c_min; // delta rgb let s = 0; if (calculate_lightness(r_prime, g_prime, b_prime) !"><meta property="og:type" content="article"><meta property="og:url" content="https://joluva.github.io/showcase/docs/visual-Illusions/masking/lightness/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-03-25T09:13:57-05:00"><title>Lightness | Showcase Template</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><a href=/showcase/docs/visual-Illusions/>Visual Illusions</a><ul><li><a href=/showcase/docs/visual-Illusions/Coloring/>Coloring</a></li><li><a href=/showcase/docs/visual-Illusions/MachBands/>Mach Bands</a></li><li><a href=/showcase/docs/visual-Illusions/Spatial-Coherence-/>Spatial Coherence</a></li><li><a href=/showcase/docs/visual-Illusions/Temporal-Coherence/>Temporal Coherence</a></li><li><a href=/showcase/docs/visual-Illusions/Depth-perception/>Depth Perception</a></li><li><input type=checkbox id=section-b4599f2a787d4958fae4ebc1b74f5587 class=toggle checked>
<label for=section-b4599f2a787d4958fae4ebc1b74f5587 class="flex justify-between"><a href=/showcase/docs/visual-Illusions/masking/>Masking</a></label><ul><li><a href=/showcase/docs/visual-Illusions/masking/convolution/>Convolution</a></li><li><a href=/showcase/docs/visual-Illusions/masking/kinegram/>Kinegram</a></li><li><a href=/showcase/docs/visual-Illusions/masking/lightness/ class=active>Lightness</a></li><li><a href=/showcase/docs/visual-Illusions/masking/moire-pattern/>Moire Pattern</a></li></ul></li></ul></li><li class=book-section-flat><span>Nosotros</span><ul><li><a href=/showcase/docs/nosotros/jose/>Jose</a></li><li><a href=/showcase/docs/nosotros/luis/>Luis</a></li><li><a href=/showcase/docs/nosotros/vale/>Vale</a></li></ul></li><li class=book-section-flat><span>Shortcodes</span><ul><li><a href=/showcase/docs/shortcodes/buttons/>Buttons</a></li><li><a href=/showcase/docs/shortcodes/columns/>Columns</a></li><li><a href=/showcase/docs/shortcodes/details/>Details</a></li><li><a href=/showcase/docs/shortcodes/hints/>Hints</a></li><li><a href=/showcase/docs/shortcodes/katex/>Katex</a></li><li><a href=/showcase/docs/shortcodes/mermaid/>Mermaid</a></li><li><input type=checkbox id=section-ec67a64aba70b9df3d2a9acd6c92e3bc class=toggle>
<label for=section-ec67a64aba70b9df3d2a9acd6c92e3bc class="flex justify-between"><a href=/showcase/docs/shortcodes/p5/>P5</a></label><ul><li><a href=/showcase/docs/shortcodes/p5/iframe/>Iframe</a></li><li><a href=/showcase/docs/shortcodes/p5/div/>Div</a></li></ul></li><li><a href=/showcase/docs/shortcodes/tabs/>Tabs</a></li></ul></li></ul><ul><li><a href=/showcase/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Lightness</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#lightness-variation>Lightness variation</a><ul><li><a href=#code>Code</a></li><li><a href=#problema-a-resolver>Problema a resolver</a></li><li><a href=#concepto>Concepto</a></li><li><a href=#implementación>Implementación</a></li><li><a href=#conclusiones>Conclusiones</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h2 id=lightness-variation>Lightness variation
<a class=anchor href=#lightness-variation>#</a></h2><details><summary>p5-iframe markdown</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>{{&lt; <span style=color:#f92672>p5-iframe</span> <span style=color:#a6e22e>sketch</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/showcase/sketches/lightness.js&#34;</span> <span style=color:#a6e22e>width</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;700&#34;</span> <span style=color:#a6e22e>height</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;900&#34;</span> &gt;}}</span></span></code></pre></div></div></details><iframe id=lightness style=width:700px;height:900px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/lightness.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h3 id=code>Code
<a class=anchor href=#code>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>img</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>brightness_reduction</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>calculate_hue</span>(<span style=color:#a6e22e>r_prime</span>, <span style=color:#a6e22e>g_prime</span>, <span style=color:#a6e22e>b_prime</span>) {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Geometric method
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>c_max</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>r_prime</span>, <span style=color:#a6e22e>g_prime</span>, <span style=color:#a6e22e>b_prime</span>); <span style=color:#75715e>// max of r&#39;, g&#39;, b&#39;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>c_min</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>r_prime</span>, <span style=color:#a6e22e>g_prime</span>, <span style=color:#a6e22e>b_prime</span>); <span style=color:#75715e>// min of r&#39;, g&#39;, b&#39;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>delta</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>c_max</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>c_min</span>; <span style=color:#75715e>// delta rgb
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>h</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>s</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>delta</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>h</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#75715e>// Can be any color
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>c_max</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>r_prime</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>h</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>60</span> <span style=color:#f92672>*</span> (((<span style=color:#a6e22e>g_prime</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>b_prime</span>) <span style=color:#f92672>/</span> <span style=color:#a6e22e>delta</span>) <span style=color:#f92672>%</span> <span style=color:#ae81ff>6</span>);
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>c_max</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>g_prime</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>h</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>60</span> <span style=color:#f92672>*</span> ((<span style=color:#a6e22e>b_prime</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>r_prime</span>) <span style=color:#f92672>/</span> <span style=color:#a6e22e>delta</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>c_max</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>b_prime</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>h</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>60</span> <span style=color:#f92672>*</span> ((<span style=color:#a6e22e>r_prime</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>g_prime</span>) <span style=color:#f92672>/</span> <span style=color:#a6e22e>delta</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>c_max</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>s</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>delta</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>c_max</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>h</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>calculate_saturation</span>(<span style=color:#a6e22e>r_prime</span>, <span style=color:#a6e22e>g_prime</span>, <span style=color:#a6e22e>b_prime</span>) {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Distance from center to max
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>c_max</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>r_prime</span>, <span style=color:#a6e22e>g_prime</span>, <span style=color:#a6e22e>b_prime</span>); <span style=color:#75715e>// max of r&#39;, g&#39;, b&#39;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>c_min</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>r_prime</span>, <span style=color:#a6e22e>g_prime</span>, <span style=color:#a6e22e>b_prime</span>); <span style=color:#75715e>// min of r&#39;, g&#39;, b&#39;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>delta</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>c_max</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>c_min</span>; <span style=color:#75715e>// delta rgb
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>s</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>c_max</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>s</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>c_min</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>c_max</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>s</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>100</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>calculate_hsl_saturation</span>(<span style=color:#a6e22e>r_prime</span>, <span style=color:#a6e22e>g_prime</span>, <span style=color:#a6e22e>b_prime</span>) {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Distance from center to max
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>c_max</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>r_prime</span>, <span style=color:#a6e22e>g_prime</span>, <span style=color:#a6e22e>b_prime</span>); <span style=color:#75715e>// max of r&#39;, g&#39;, b&#39;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>c_min</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>r_prime</span>, <span style=color:#a6e22e>g_prime</span>, <span style=color:#a6e22e>b_prime</span>); <span style=color:#75715e>// min of r&#39;, g&#39;, b&#39;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>delta</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>c_max</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>c_min</span>; <span style=color:#75715e>// delta rgb
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>s</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>calculate_lightness</span>(<span style=color:#a6e22e>r_prime</span>, <span style=color:#a6e22e>g_prime</span>, <span style=color:#a6e22e>b_prime</span>) <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>calculate_lightness</span>(<span style=color:#a6e22e>r_prime</span>, <span style=color:#a6e22e>g_prime</span>, <span style=color:#a6e22e>b_prime</span>) <span style=color:#f92672>!=</span> <span style=color:#ae81ff>100</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>s</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>delta</span> <span style=color:#f92672>/</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>abs</span>(<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>c_max</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>));
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>s</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>100</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>calculate_lightness</span>(<span style=color:#a6e22e>r_prime</span>, <span style=color:#a6e22e>g_prime</span>, <span style=color:#a6e22e>b_prime</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>c_max</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>r_prime</span>, <span style=color:#a6e22e>g_prime</span>, <span style=color:#a6e22e>b_prime</span>); <span style=color:#75715e>// max of r&#39;, g&#39;, b&#39;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>c_min</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>r_prime</span>, <span style=color:#a6e22e>g_prime</span>, <span style=color:#a6e22e>b_prime</span>); <span style=color:#75715e>// min of r&#39;, g&#39;, b&#39;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>l</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>c_max</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>c_min</span>) <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>l</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>100</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>get_pixel_position</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>width</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>width</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>get_pixel_color</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>width</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>xy</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>get_pixel_position</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>width</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> [
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>xy</span>],
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>xy</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>xy</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>xy</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>],
</span></span><span style=display:flex><span>  ];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>set_hsl</span>(<span style=color:#a6e22e>colour</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r_prime</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>colour</span>[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g_prime</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>colour</span>[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>b_prime</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>colour</span>[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>h</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>calculate_hue</span>(<span style=color:#a6e22e>r_prime</span>, <span style=color:#a6e22e>g_prime</span>, <span style=color:#a6e22e>b_prime</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>s</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>calculate_hsl_saturation</span>(<span style=color:#a6e22e>r_prime</span>, <span style=color:#a6e22e>g_prime</span>, <span style=color:#a6e22e>b_prime</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>l</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>calculate_lightness</span>(<span style=color:#a6e22e>r_prime</span>, <span style=color:#a6e22e>g_prime</span>, <span style=color:#a6e22e>b_prime</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>hsl</span> <span style=color:#f92672>=</span> [<span style=color:#a6e22e>h</span>, <span style=color:#a6e22e>s</span>, <span style=color:#a6e22e>l</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>hsl</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/sketches/lennna.jpg&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>600</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span><span style=color:#f92672>*</span><span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>keyPressed</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>keyCode</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>68</span>) { <span style=color:#75715e>// 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>brightness_reduction</span> <span style=color:#f92672>-=</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>keyCode</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>65</span>) { <span style=color:#75715e>// 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>brightness_reduction</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>keyCode</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>87</span>) { <span style=color:#75715e>// 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>brightness_reduction</span> <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>keyCode</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>83</span>) { <span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>brightness_reduction</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>brightness_reduction</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>100</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>brightness_reduction</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>brightness_reduction</span> <span style=color:#f92672>&lt;</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>100</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>brightness_reduction</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>100</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// put drawing code here  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Change the image brightness in RGB mode
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colorMode</span>(<span style=color:#a6e22e>RGB</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;Brightness reduction: &#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>brightness_reduction</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>510</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>img</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>20</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;Original Image&#34;</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Change image brightness with HSL color mode
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colorMode</span>(<span style=color:#a6e22e>HSL</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>changed_img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>get</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>changed_img</span>.<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>new_hsl_color</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>set_hsl</span>(<span style=color:#a6e22e>get_pixel_color</span>(<span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>));
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>new_hsl_color</span>[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>new_hsl_color</span>[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>-</span> (<span style=color:#a6e22e>brightness_reduction</span>  );
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>changed_img</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span>, <span style=color:#a6e22e>color</span>(<span style=color:#a6e22e>new_hsl_color</span>));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>changed_img</span>.<span style=color:#a6e22e>updatePixels</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>changed_img</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;Changed Image (HSL)&#34;</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}</span></span></code></pre></div><h3 id=problema-a-resolver>Problema a resolver
<a class=anchor href=#problema-a-resolver>#</a></h3><p>Implementar un programa que permita variar la luminosidad de una imagen.</p><h3 id=concepto>Concepto
<a class=anchor href=#concepto>#</a></h3><p style=text-align:justify>La luminosidad de una imagen se refiere a la cantidad de luz o brillo presente en la imagen en su totalidad. En términos de procesamiento de imágenes digitales, la luminosidad se puede medir en una escala de valores numéricos, que van desde 0 (negro total) hasta 255 (blanco total) en el espacio de color RGB (rojo, verde, azul).</p><p style=text-align:justify>Por otro lado, el modelo de color HSL (tono, saturación, luminosidad) se utiliza a menudo en el procesamiento de imágenes y la edición de fotografías. En el modelo de color HSL, la luminosidad es una de las tres dimensiones de la imagen, junto con el tono y la saturación. La luminosidad en el modelo HSL se representa en una escala de valores numéricos de 0 a 100, donde 0 es el negro total y 100 es el blanco total.</p><p style=text-align:justify>En resumen, la luminosidad de una imagen se refiere a la cantidad de luz o brillo presente en la imagen en su totalidad, mientras que el modelo de color HSL es un modelo de color que se utiliza a menudo en el procesamiento de imágenes y que incluye la dimensión de luminosidad para medir la claridad de la imagen.</p><h3 id=implementación>Implementación
<a class=anchor href=#implementaci%c3%b3n>#</a></h3><p style=text-align:justify>La implementación consta de un algoritmo en el cual se recibe una imagen cuya representación en rgb se transforma a hsl mediante el uso de las fórmulas
correspondientes. Una vez se tiene la imagen en formato hsl, la variación de la luminosidad depende de variar el valor de l.</p><h3 id=conclusiones>Conclusiones
<a class=anchor href=#conclusiones>#</a></h3><p style=text-align:justify>En conclusión, la luminosidad de una imagen es un factor importante en el procesamiento de imágenes digitales, ya que afecta la claridad y el brillo de la imagen en su totalidad.
Además, la capacidad de ajustar la luminosidad de una imagen puede tener un gran impacto en su aspecto general. Por ejemplo, aumentar la luminosidad puede hacer que la imagen parezca más brillante y vívida, mientras que reducir la luminosidad puede hacer que la imagen parezca más oscura y tenue. Por lo tanto, la comprensión de la luminosidad de una imagen y cómo se puede ajustar en el modelo HSL puede ser muy útil para los fotógrafos, diseñadores gráficos y otros profesionales que trabajan con imágenes digitales.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/cf42c2523ba7dc16e15035e238eaf8c97255e7fe title='Last modified by jmorenohj | March 25, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>March 25, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#lightness-variation>Lightness variation</a><ul><li><a href=#code>Code</a></li><li><a href=#problema-a-resolver>Problema a resolver</a></li><li><a href=#concepto>Concepto</a></li><li><a href=#implementación>Implementación</a></li><li><a href=#conclusiones>Conclusiones</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>