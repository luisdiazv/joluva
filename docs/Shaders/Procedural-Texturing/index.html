<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Procedural Texturing # Problema # Adapt other patterns from the book of shaders (refer also to the shadertoy collection) and map them as textures onto other 3D shapes.
Manual de usuario del Sketch # Al mover el cursor de arriba hacia abajo dentro del sketch, se crean más o menos ladrillos correspondiente a la textura.
Implementación # La implementación de ProceduralTexturing.js utiliza el fragment shader bricks.frag para generar una textura procedural y aplica esa textura a una forma 3D renderizada en un lienzo WebGL utilizando p5."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Procedural Texturing # Problema # Adapt other patterns from the book of shaders (refer also to the shadertoy collection) and map them as textures onto other 3D shapes.
Manual de usuario del Sketch # Al mover el cursor de arriba hacia abajo dentro del sketch, se crean más o menos ladrillos correspondiente a la textura.
Implementación # La implementación de ProceduralTexturing.js utiliza el fragment shader bricks.frag para generar una textura procedural y aplica esa textura a una forma 3D renderizada en un lienzo WebGL utilizando p5."><meta property="og:type" content="article"><meta property="og:url" content="https://joluva.github.io/showcase/docs/Shaders/Procedural-Texturing/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-06-19T16:24:46-05:00"><title>Procedural Texturing | Showcase Template</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><a href=/showcase/docs/visual-Illusions/>Visual Illusions</a><ul><li><a href=/showcase/docs/visual-Illusions/Coloring/>Coloring</a></li><li><a href=/showcase/docs/visual-Illusions/MachBands/>Mach Bands</a></li><li><input type=checkbox id=section-b4599f2a787d4958fae4ebc1b74f5587 class=toggle>
<label for=section-b4599f2a787d4958fae4ebc1b74f5587 class="flex justify-between"><a href=/showcase/docs/visual-Illusions/masking/>Masking</a></label><ul><li><a href=/showcase/docs/visual-Illusions/masking/Image-quantization/>Image Quantization</a></li><li><a href=/showcase/docs/visual-Illusions/masking/convolution/>Convolution</a></li><li><a href=/showcase/docs/visual-Illusions/masking/histogram/>Histogram</a></li><li><a href=/showcase/docs/visual-Illusions/masking/kinegram/>Kinegram</a></li><li><a href=/showcase/docs/visual-Illusions/masking/lightness/>Lightness</a></li><li><a href=/showcase/docs/visual-Illusions/masking/moire-pattern/>Moire Pattern</a></li></ul></li><li><a href=/showcase/docs/visual-Illusions/Spatial-Coherence-/>Spatial Coherence</a></li><li><a href=/showcase/docs/visual-Illusions/Temporal-Coherence/>Temporal Coherence</a></li><li><a href=/showcase/docs/visual-Illusions/Depth-perception/>Depth Perception</a></li><li><a href=/showcase/docs/visual-Illusions/VideoSustentacion/>Video Sustentacion</a></li></ul></li><li class=book-section-flat><a href=/showcase/docs/Rendering/>Rendering</a><ul></ul></li><li class=book-section-flat><span>Nosotros</span><ul><li><a href=/showcase/docs/nosotros/jose/>Jose</a></li><li><a href=/showcase/docs/nosotros/luis/>Luis</a></li><li><a href=/showcase/docs/nosotros/vale/>Vale</a></li></ul></li><li class=book-section-flat><a href=/showcase/docs/Shaders/>Shaders</a><ul><li><a href=/showcase/docs/Shaders/Color-blending/>Color Blending</a></li><li><a href=/showcase/docs/Shaders/Posteffects/>Posteffects</a></li><li><a href=/showcase/docs/Shaders/Procedural-Texturing/ class=active>Procedural Texturing</a></li><li><a href=/showcase/docs/Shaders/Spatial-coherence/>Spatial Coherence</a></li><li><a href=/showcase/docs/Shaders/texturing/>Texturing</a></li><li><a href=/showcase/docs/Shaders/Photomosaic/>Photomosaic</a></li></ul></li><li class=book-section-flat><span>Shortcodes</span><ul><li><a href=/showcase/docs/shortcodes/buttons/>Buttons</a></li><li><a href=/showcase/docs/shortcodes/columns/>Columns</a></li><li><a href=/showcase/docs/shortcodes/details/>Details</a></li><li><a href=/showcase/docs/shortcodes/hints/>Hints</a></li><li><a href=/showcase/docs/shortcodes/katex/>Katex</a></li><li><a href=/showcase/docs/shortcodes/mermaid/>Mermaid</a></li><li><input type=checkbox id=section-ec67a64aba70b9df3d2a9acd6c92e3bc class=toggle>
<label for=section-ec67a64aba70b9df3d2a9acd6c92e3bc class="flex justify-between"><a href=/showcase/docs/shortcodes/p5/>P5</a></label><ul><li><a href=/showcase/docs/shortcodes/p5/iframe/>Iframe</a></li><li><a href=/showcase/docs/shortcodes/p5/div/>Div</a></li></ul></li><li><a href=/showcase/docs/shortcodes/tabs/>Tabs</a></li></ul></li><li class=book-section-flat><a href=/showcase/docs/Space-transformations/>Space Transformations</a><ul></ul></li></ul><ul><li><a href=/showcase/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Procedural Texturing</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#procedural-texturing>Procedural Texturing</a><ul><li><a href=#problema>Problema</a></li><li><a href=#manual-de-usuario-del-sketch>Manual de usuario del Sketch</a></li><li><a href=#implementación>Implementación</a></li><li><a href=#código>Código</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=procedural-texturing>Procedural Texturing
<a class=anchor href=#procedural-texturing>#</a></h1><iframe id=ProcTexture style=width:424px;height:424px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.js></script> 
            
            
            
            
            <script src=/showcase/sketches/ProcTexture.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=problema>Problema
<a class=anchor href=#problema>#</a></h2><p>Adapt other patterns from the book of shaders (refer also to the shadertoy collection) and map them as textures onto other 3D shapes.</p><h2 id=manual-de-usuario-del-sketch>Manual de usuario del Sketch
<a class=anchor href=#manual-de-usuario-del-sketch>#</a></h2><p>Al mover el cursor de arriba hacia abajo dentro del sketch, se crean más o menos ladrillos correspondiente a la textura.</p><h2 id=implementación>Implementación
<a class=anchor href=#implementaci%c3%b3n>#</a></h2><p>La implementación de ProceduralTexturing.js utiliza el fragment shader bricks.frag para generar una textura procedural y aplica esa textura a una forma 3D renderizada en un lienzo WebGL utilizando p5.js.
El shader bricks.frag define una función llamada brickTile que crea un patrón de ladrillos utilizando operaciones matemáticas en las coordenadas de textura. También define una función llamada box que crea una forma de caja utilizando smoothstep. Finalmente, en la función main, se llama a estas funciones para calcular el color de cada fragmento de píxel en función de las coordenadas de textura.
En ProceduralTexturing.js, el fragment shader bricks.frag se carga en la variable bricks utilizando la función readShader durante la función preload. Luego, en la función setup, se crea un lienzo WebGL y un buffer de gráficos llamado pg. Se configuran algunos parámetros, como el modo de textura y se asigna el shader bricks al buffer de gráficos pg. También se establecen los valores de los uniformes u_resolution y u_temp del shader.
Dentro de draw, se establece el color de fondo y se realiza una rotación en el eje Y basada en el recuento de frames. Luego, se dibuja una forma 3D (en este caso, un elipsoide) que se verá afectada por el shader y la textura generada.
Además, se implementa la función mouseMoved, que ajusta el valor del uniforme u_temp del shader en función de la posición del mouse. Esto permite interactuar con el shader y ajustar dinámicamente el patrón de ladrillos en función de la posición vertical del mouse.</p><h2 id=código>Código
<a class=anchor href=#c%c3%b3digo>#</a></h2><p>Código js del procedural texturing<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>pg</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>bricks</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bricks</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;/showcase/sketches/shaders/Bricks.frag&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>400</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createGraphics</span>(<span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>400</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textureMode</span>(<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>textureMode</span>(<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>bricks</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bricks</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;u_resolution&#39;</span>, [<span style=color:#ae81ff>200</span>,<span style=color:#ae81ff>200</span>]);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bricks</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;u_temp&#39;</span>, <span style=color:#ae81ff>5</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>quad</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>pg</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>55</span>,<span style=color:#ae81ff>4</span>,<span style=color:#ae81ff>5</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>frameCount</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.006</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ellipsoid</span>(<span style=color:#ae81ff>170</span>,<span style=color:#ae81ff>120</span>,<span style=color:#ae81ff>120</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>mouseMoved</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bricks</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;u_temp&#39;</span>, <span style=color:#66d9ef>int</span>(<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>mouseY</span>, <span style=color:#ae81ff>0.5</span>, <span style=color:#a6e22e>width</span>, <span style=color:#ae81ff>0.5</span>, <span style=color:#ae81ff>20</span>)));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>quad</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>}</span></span></code></pre></div></p><p>Fragment shader (bricks.frag)<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>HOLA</span> <span style=color:#a6e22e>MUNDO</span></span></span></code></pre></div></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/9a53eaa71950de3a39457738684eed2fbbb8649b title='Last modified by Luis Diaz | June 19, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 19, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#procedural-texturing>Procedural Texturing</a><ul><li><a href=#problema>Problema</a></li><li><a href=#manual-de-usuario-del-sketch>Manual de usuario del Sketch</a></li><li><a href=#implementación>Implementación</a></li><li><a href=#código>Código</a></li></ul></li></ul></nav></div></aside></main></body></html>